// ==UserScript==
// @name         ATOSS++
// @namespace    http://tampermonkey.net/
// @version      1.5.1
// @description  fixes stuff atoss is too dumb to fix themselves
// @updateURL   https://raw.githubusercontent.com/ArbeitsAccount/ATOSS-/refs/heads/main/main.js
// @downloadURL https://raw.githubusercontent.com/ArbeitsAccount/ATOSS-/refs/heads/main/main.js
// @author       Robin Feuerer
// @match        https://hoffmann-group.atoss.com/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=atoss.com
// @grant        GM_setValue
// @grant        GM_getValue
// ==/UserScript==

function _0x3e76(_0x53f9e1,_0x10314f){const _0x252bde=_0x252b();return _0x3e76=function(_0x3e76c4,_0x2b5ceb){_0x3e76c4=_0x3e76c4-0x1bb;let _0x44ca82=_0x252bde[_0x3e76c4];return _0x44ca82;},_0x3e76(_0x53f9e1,_0x10314f);}(function(_0x4369fa,_0x4910af){const _0x4c3d4d=_0x3e76,_0x68ab08=_0x4369fa();while(!![]){try{const _0x776511=parseInt(_0x4c3d4d(0x1f1))/0x1*(-parseInt(_0x4c3d4d(0x1cb))/0x2)+parseInt(_0x4c3d4d(0x1f9))/0x3*(-parseInt(_0x4c3d4d(0x1fb))/0x4)+parseInt(_0x4c3d4d(0x20a))/0x5+parseInt(_0x4c3d4d(0x1fe))/0x6+parseInt(_0x4c3d4d(0x1cf))/0x7+-parseInt(_0x4c3d4d(0x218))/0x8*(parseInt(_0x4c3d4d(0x1d1))/0x9)+-parseInt(_0x4c3d4d(0x22d))/0xa;if(_0x776511===_0x4910af)break;else _0x68ab08['push'](_0x68ab08['shift']());}catch(_0x741847){_0x68ab08['push'](_0x68ab08['shift']());}}}(_0x252b,0xbfb92),(function(){'use strict';const _0x1e23e8=_0x3e76;console['log'](_0x1e23e8(0x1c3));function _0x25d7a0(_0x413354,_0x432346){const _0x9ab753=_0x1e23e8,_0x5897f6=_0x413354['startsWith']('-'),_0x23b250=_0x432346[_0x9ab753(0x20d)]('-');_0x5897f6&&(_0x413354=_0x413354[_0x9ab753(0x1e7)](0x1));_0x23b250&&(_0x432346=_0x432346[_0x9ab753(0x1e7)](0x1));const _0x4c8cf8=_0x413354[_0x9ab753(0x1c4)](':'),_0x26dee0=_0x432346['split'](':'),_0x1638d6=new Date(0x0,0x0,0x0,parseInt(_0x4c8cf8[0x0]),parseInt(_0x4c8cf8[0x1])),_0x58056f=new Date(0x0,0x0,0x0,parseInt(_0x26dee0[0x0]),parseInt(_0x26dee0[0x1]));let _0x33771d=_0x1638d6['getHours']()*0x3c+_0x1638d6[_0x9ab753(0x223)](),_0x1d5a34=_0x58056f[_0x9ab753(0x1da)]()*0x3c+_0x58056f['getMinutes']();_0x5897f6&&(_0x33771d=-_0x33771d);_0x23b250&&(_0x1d5a34=-_0x1d5a34);let _0x468faa=_0x33771d+_0x1d5a34;const _0x307e9c=Math[_0x9ab753(0x208)](Math['abs'](_0x468faa)/0x3c),_0x5d4d07=Math['abs'](_0x468faa)%0x3c;let _0x59f212=String(_0x307e9c)['padStart'](0x2,'0')+':'+String(_0x5d4d07)[_0x9ab753(0x1db)](0x2,'0');return _0x468faa<0x0&&(_0x59f212='-'+_0x59f212),_0x59f212;}function _0x3bd817(_0x58997d,_0x294184){const _0x336e7d=_0x1e23e8,_0x339f3f=_0x58997d['startsWith']('-'),_0x3f4d31=_0x294184[_0x336e7d(0x20d)]('-');_0x339f3f&&(_0x58997d=_0x58997d[_0x336e7d(0x1e7)](0x1));_0x3f4d31&&(_0x294184=_0x294184[_0x336e7d(0x1e7)](0x1));const _0x1e0ff2=_0x58997d[_0x336e7d(0x1c4)](':'),_0x1cc2c2=_0x294184[_0x336e7d(0x1c4)](':'),_0xb07146=new Date(0x0,0x0,0x0,parseInt(_0x1e0ff2[0x0]),parseInt(_0x1e0ff2[0x1])),_0x447b19=new Date(0x0,0x0,0x0,parseInt(_0x1cc2c2[0x0]),parseInt(_0x1cc2c2[0x1]));let _0x35a465=_0xb07146[_0x336e7d(0x1da)]()*0x3c+_0xb07146['getMinutes'](),_0x5adf14=_0x447b19['getHours']()*0x3c+_0x447b19['getMinutes']();_0x339f3f&&(_0x35a465=-_0x35a465);_0x3f4d31&&(_0x5adf14=-_0x5adf14);let _0x1f1331=_0x35a465-_0x5adf14;const _0x2f4199=Math['floor'](Math[_0x336e7d(0x1e1)](_0x1f1331)/0x3c),_0x18c8e8=Math[_0x336e7d(0x1e1)](_0x1f1331)%0x3c;let _0x3b0cd8=String(_0x2f4199)[_0x336e7d(0x1db)](0x2,'0')+':'+String(_0x18c8e8)[_0x336e7d(0x1db)](0x2,'0');return _0x1f1331<0x0&&(_0x3b0cd8='-'+_0x3b0cd8),_0x3b0cd8;}function _0x5151b2(){const _0x3b492a=_0x1e23e8,_0x14ba74=new Date(),_0x2287ff=String(_0x14ba74['getHours']())[_0x3b492a(0x1db)](0x2,'0'),_0x5527fb=String(_0x14ba74['getMinutes']())[_0x3b492a(0x1db)](0x2,'0');return _0x2287ff+':'+_0x5527fb;}function _0x11e2b8(_0x192ce7,_0x4ee7da,_0xb08f72=_0x1e23e8(0x1bc)){const _0x158e14=_0x1e23e8,_0xcc0537={'childList':!![],'subtree':!![]},_0x46f35a=function(_0x2a8cd8,_0x9099f){const _0x4027f7=_0x3e76;for(let _0x1ca4ea of _0x2a8cd8){if(_0x1ca4ea['type']===_0x4027f7(0x1f8)){_0x9099f[_0x4027f7(0x1e5)](),_0x192ce7[_0x4027f7(0x1c7)](_0x4027f7(0x1dd))[0x4]['children'][0x0][_0x4027f7(0x1d6)]=_0xb08f72,_0x4536eb(_0x192ce7);break;}}},_0x677b1b=new MutationObserver(_0x46f35a);_0x677b1b[_0x158e14(0x219)](_0x4ee7da,_0xcc0537);}function _0x4536eb(_0x44b097){const _0x5761c0=_0x1e23e8;console['log'](_0x5761c0(0x1f7));let _0x493bc4=[];const _0x29eb9c=setInterval(()=>{const _0x4b6451=_0x5761c0;_0x493bc4=_0x44b097[_0x4b6451(0x1c7)](_0x4b6451(0x1c0));if(_0x493bc4[_0x4b6451(0x1e8)]>0x0){clearInterval(_0x29eb9c);let _0x1bfdc0={},_0x97b9d9,_0x65d236,_0x50e8db;_0x493bc4[_0x4b6451(0x1ed)](function(_0x4a9f8e){const _0x3aea40=_0x4b6451;_0x97b9d9=_0x4a9f8e[_0x3aea40(0x200)][0x0][_0x3aea40(0x200)][0x0][_0x3aea40(0x1d6)],_0x97b9d9===_0x3aea40(0x214)&&(_0x50e8db=_0x4a9f8e[_0x3aea40(0x200)][0x0]['children'][0x2]),_0x4a9f8e[_0x3aea40(0x200)][0x0]['children'][0x2][_0x3aea40(0x20e)]>0x0?_0x65d236=_0x4a9f8e[_0x3aea40(0x200)][0x0][_0x3aea40(0x200)][0x2]['textContent']:_0x65d236=_0x4a9f8e['children'][0x0][_0x3aea40(0x200)][0x2]['innerHTML'],_0x1bfdc0[_0x97b9d9]=_0x65d236;});const _0x2eec48=_0x1bfdc0[_0x4b6451(0x22b)];if(_0x1bfdc0[_0x4b6451(0x1eb)]===_0x4b6451(0x1ff)){const [_0x558425,_0x29c88a]=_0x2eec48[_0x4b6451(0x1c4)](':')[_0x4b6451(0x221)](Number);let _0x332ce9=_0x2eec48;GM_getValue(_0x4b6451(0x20b))===!![]?_0x29c88a<=0x1e&&_0x558425<0x1&&(_0x332ce9=_0x4b6451(0x21a)):_0x558425<0x1&&(_0x332ce9=_0x4b6451(0x1ce)),_0x50e8db[_0x4b6451(0x1d6)]=_0x25d7a0(_0x25d7a0(_0x1bfdc0[_0x4b6451(0x1be)],_0x4b6451(0x1c6)),_0x332ce9),_0x11e2b8(_0x44b097,_0x44b097['querySelectorAll'](_0x4b6451(0x1dc))[0x1]);}else{const _0x5b7dc8=_0x44b097['querySelectorAll']('.data-list-body-cell-wrapper'),_0x1d2475=_0x5151b2(),_0x3af11c=_0x3bd817(_0x1d2475,_0x50e8db);if(_0x2eec48==='0:00')_0x5b7dc8[0x4]['children'][0x0][_0x4b6451(0x1d6)]=_0x3af11c;else{const _0x1d5a06=_0x25d7a0(_0x3bd817(_0x1d2475,_0x50e8db),_0x2eec48);_0x5b7dc8[0x4]['children'][0x0][_0x4b6451(0x1d6)]=_0x3af11c+_0x4b6451(0x1fa)+_0x1d5a06;}_0x11e2b8(_0x44b097,_0x44b097[_0x4b6451(0x1c9)]('.info-element.info-element-basictext.info-element-normal'),_0x5b7dc8[0x4][_0x4b6451(0x200)][0x0]['innerHTML']);}}},0x3e8);}window[_0x1e23e8(0x1e2)](_0x1e23e8(0x1f6),function(){const _0x20076f=_0x1e23e8;window['location'][_0x20076f(0x1e3)]===_0x20076f(0x1f3)&&(GM_getValue(_0x20076f(0x20b))===undefined?setTimeout(function(){const _0x3981cb=_0x20076f;var _0x12d6bd=document[_0x3981cb(0x216)](_0x3981cb(0x1bf));_0x12d6bd['id']=_0x3981cb(0x20c),_0x12d6bd[_0x3981cb(0x210)][_0x3981cb(0x204)]='fixed',_0x12d6bd['style'][_0x3981cb(0x1c8)]=_0x3981cb(0x209),_0x12d6bd[_0x3981cb(0x210)][_0x3981cb(0x1ec)]=_0x3981cb(0x211),_0x12d6bd[_0x3981cb(0x210)]['transform']=_0x3981cb(0x1e6),_0x12d6bd['style'][_0x3981cb(0x1e0)]='20px',_0x12d6bd['style']['color']=_0x3981cb(0x22a),_0x12d6bd[_0x3981cb(0x210)][_0x3981cb(0x217)]='#1e2124',_0x12d6bd[_0x3981cb(0x210)][_0x3981cb(0x1cc)]='1px\x20solid\x20#ff7000',_0x12d6bd[_0x3981cb(0x210)]['zIndex']=_0x3981cb(0x1c5),_0x12d6bd[_0x3981cb(0x210)][_0x3981cb(0x201)]='none',_0x12d6bd[_0x3981cb(0x210)][_0x3981cb(0x1f4)]=_0x3981cb(0x215),_0x12d6bd['style'][_0x3981cb(0x1d3)]=_0x3981cb(0x202),_0x12d6bd[_0x3981cb(0x1d6)]=_0x3981cb(0x226),document['body'][_0x3981cb(0x1ea)](_0x12d6bd);function _0x38148b(){const _0x41fc2d=_0x3981cb;var _0x11e2ea=window[_0x41fc2d(0x1df)],_0x465a07=Math[_0x41fc2d(0x1d5)](0x14,_0x11e2ea/0xa)+'px',_0x52ced0=Math[_0x41fc2d(0x1d5)](0x14,_0x11e2ea/0x14)+'%';document[_0x41fc2d(0x213)](_0x41fc2d(0x206))[_0x41fc2d(0x210)]['fontSize']=_0x465a07,document[_0x41fc2d(0x213)](_0x41fc2d(0x1ef))[_0x41fc2d(0x210)][_0x41fc2d(0x1d4)]=_0x465a07,document[_0x41fc2d(0x213)](_0x41fc2d(0x224))['style'][_0x41fc2d(0x1d4)]=_0x465a07,document[_0x41fc2d(0x213)](_0x41fc2d(0x21b))[_0x41fc2d(0x210)][_0x41fc2d(0x1d4)]=_0x465a07,document[_0x41fc2d(0x213)](_0x41fc2d(0x21b))[_0x41fc2d(0x210)][_0x41fc2d(0x222)]=_0x52ced0,document[_0x41fc2d(0x213)](_0x41fc2d(0x224))[_0x41fc2d(0x210)][_0x41fc2d(0x222)]=_0x52ced0,_0x12d6bd[_0x41fc2d(0x210)][_0x41fc2d(0x222)]=_0x52ced0;}_0x38148b(),window[_0x3981cb(0x1e2)]('resize',_0x38148b),_0x12d6bd[_0x3981cb(0x210)][_0x3981cb(0x201)]='block';var _0x280be7=document[_0x3981cb(0x216)]('style');_0x280be7[_0x3981cb(0x1d6)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#applicationIframe\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20filter:\x20blur(10px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document['head'][_0x3981cb(0x1ea)](_0x280be7),document['getElementById'](_0x3981cb(0x21b))[_0x3981cb(0x1e2)](_0x3981cb(0x1fd),function(){const _0x16074c=_0x3981cb;_0x12d6bd[_0x16074c(0x210)]['display']='none',document[_0x16074c(0x213)](_0x16074c(0x212))[_0x16074c(0x210)][_0x16074c(0x21d)]=_0x16074c(0x229),GM_setValue(_0x16074c(0x20b),![]);}),document[_0x3981cb(0x213)]('yesButton')[_0x3981cb(0x1e2)](_0x3981cb(0x1fd),function(){const _0x2eafd8=_0x3981cb;_0x12d6bd[_0x2eafd8(0x210)]['display']='none',document['getElementById'](_0x2eafd8(0x212))[_0x2eafd8(0x210)]['filter']=_0x2eafd8(0x229),GM_setValue(_0x2eafd8(0x20b),!![]);});},0x3e8):setTimeout(function(){const _0x3e7422=_0x20076f;var _0x4a168d=document[_0x3e7422(0x216)](_0x3e7422(0x1bf));_0x4a168d['id']=_0x3e7422(0x21c),_0x4a168d[_0x3e7422(0x210)][_0x3e7422(0x204)]=_0x3e7422(0x1e9),_0x4a168d[_0x3e7422(0x210)][_0x3e7422(0x1c8)]=_0x3e7422(0x1f0),_0x4a168d[_0x3e7422(0x210)][_0x3e7422(0x1ec)]=_0x3e7422(0x207),_0x4a168d[_0x3e7422(0x210)][_0x3e7422(0x1e4)]='translate(-50%,\x20-50%)',_0x4a168d['style'][_0x3e7422(0x1e0)]=_0x3e7422(0x1cd),_0x4a168d[_0x3e7422(0x210)][_0x3e7422(0x1c2)]=_0x3e7422(0x227),_0x4a168d['style'][_0x3e7422(0x217)]=_0x3e7422(0x220),_0x4a168d['style'][_0x3e7422(0x20f)]=_0x3e7422(0x1c5),_0x4a168d[_0x3e7422(0x210)]['display']='block',_0x4a168d[_0x3e7422(0x210)][_0x3e7422(0x1f4)]='28px',_0x4a168d[_0x3e7422(0x210)][_0x3e7422(0x1d3)]=_0x3e7422(0x202),_0x4a168d[_0x3e7422(0x1d6)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20id=\x22reset\x22;\x20style=\x22font-size\x20:\x2014px;position\x20:\x20absolute;\x20bottom:\x205px;\x20font-family:\x20\x27Segoe\x20UI\x27,\x20\x27Lato\x27,\x20sans-serif;cursor:\x20pointer;\x22>Daten\x20zurücksetzen</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x3e7422(0x21e)]['appendChild'](_0x4a168d),document[_0x3e7422(0x213)]('reset')[_0x3e7422(0x1e2)](_0x3e7422(0x1fd),function(){const _0x1eea6=_0x3e7422;GM_setValue(_0x1eea6(0x20b),undefined),location[_0x1eea6(0x1ca)]();});},0xbb8));const _0x3379c9=document[_0x20076f(0x1c9)](_0x20076f(0x1d8));if(!_0x3379c9)return;const _0x55707c=_0x4d0b59=>{const _0x4b5e82=_0x20076f;return _0x4d0b59['children'][0x0][_0x4b5e82(0x200)][0x0][_0x4b5e82(0x200)][0x1][_0x4b5e82(0x200)][0x0][_0x4b5e82(0x1d0)];};_0x3379c9[_0x20076f(0x1e2)](_0x20076f(0x1f6),function(){const _0xded613=_0x20076f,_0x2074e4=_0x3379c9[_0xded613(0x1c1)]||_0x3379c9[_0xded613(0x228)][_0xded613(0x205)];if(!_0x2074e4)return;_0x4536eb(_0x2074e4);const _0xfb1be9=new MutationObserver(_0x2f9a92=>{let _0x36c68b=![];_0x2f9a92['forEach'](_0x39cdb8=>{const _0x487793=_0x3e76;if(!_0x36c68b){_0xfb1be9[_0x487793(0x1e5)]();const _0xe002d0=_0x2074e4[_0x487793(0x1c7)](_0x487793(0x1ee));_0xe002d0[_0x487793(0x1ed)](_0x4e22b9=>{const _0x31bdb0=_0x487793,_0x270737=_0x55707c(_0x4e22b9);if(_0x270737===_0x31bdb0(0x1d9)||_0x270737==='Pause\x20/\x20Anwesenheitsende\x20stempeln'){if(!_0x4e22b9[_0x31bdb0(0x1fc)][_0x31bdb0(0x1d7)](_0x31bdb0(0x1de))){_0x4e22b9['setAttribute'](_0x31bdb0(0x1bb),'disabled'),_0x4e22b9[_0x31bdb0(0x210)]['opacity']=_0x31bdb0(0x1f5),console[_0x31bdb0(0x1f2)](_0x31bdb0(0x203));const _0x5453ed=_0x2074e4[_0x31bdb0(0x1c9)](_0x31bdb0(0x1d2)),_0x39c2a2=_0x5453ed[_0x31bdb0(0x200)][0x0][_0x31bdb0(0x200)][0x0]['children'][0x1][_0x31bdb0(0x200)][0x0],_0x18af5d=()=>{const _0x4017fc=_0x31bdb0,_0x5dfb97=new Date(),_0x25f68e=_0x5dfb97[_0x4017fc(0x225)](),_0x1ed516=0x3c-_0x25f68e;_0xfb1be9[_0x4017fc(0x1e5)](),_0x39c2a2[_0x4017fc(0x1d6)]=_0x4017fc(0x1bd)+_0x1ed516,_0xfb1be9[_0x4017fc(0x219)](_0x2074e4[_0x4017fc(0x21e)],{'childList':!![],'subtree':!![]});};_0x18af5d(),setInterval(_0x18af5d,0x3e8);}else _0x4e22b9['removeAttribute']('disabled'),_0x4e22b9[_0x31bdb0(0x210)][_0x31bdb0(0x22c)]='1',console[_0x31bdb0(0x1f2)](_0x31bdb0(0x21f));}}),_0x36c68b=!![];}_0xfb1be9['observe'](_0x2074e4['body'],{'childList':!![],'subtree':!![]});});});_0xfb1be9[_0xded613(0x219)](_0x2074e4['body'],{'childList':!![],'subtree':!![]});});});}()));function _0x252b(){const _0x1c0869=['querySelector','reload','2581078wVUykY','border','20px','1:00','9822575dHQCoc','textContent','1283463gMfDnP','.info-element.info-element-default','textAlign','fontSize','max','innerHTML','contains','iframe','Anwesenheitsbeginn\x20stempeln','getHours','padStart','.info-element.info-element-basictext.info-element-normal','.data-list-body-cell-wrapper','highlighted','innerHeight','padding','abs','addEventListener','href','transform','disconnect','translate(-50%,\x20-50%)','slice','length','fixed','appendChild','Status','top','forEach','.info-element.info-element-button.info-element-normal','popupText','160px','1rQrLuQ','log','https://hoffmann-group.atoss.com/hoffmanngroupprod/html?security.sso=true','height','0.2','load','update\x20page','childList','3534saUcLU','\x20|\x20','4996QZYEGs','classList','click','7986252nPbtwT','Anwesend','children','display','center','Disabled\x20unused\x20button','position','document','popupTitle','14px','floor','50%','6217685RAfIse','18+','ATOSS++','startsWith','childElementCount','zIndex','style','17.5%','applicationIframe','getElementById','Gehen','35%','createElement','backgroundColor','16DfRaav','observe','0:30','noButton','reset','filter','body','Reactivated','transparent','map','width','getMinutes','yesButton','getSeconds','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20id=\x22popupTitle\x22><strong>Atoss++</strong></h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22popupText\x22>Bist\x20du\x20schon\x20über\x2018?</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20center;font-family:\x20\x27Segoe\x20UI\x27,\x20\x27Lato\x27,\x20sans-serif;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22yesButton\x22\x20style=\x22margin:\x200\x2010px;\x20color:\x20black;\x20background-color:\x20#ff7000;\x22>Ja</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22noButton\x22\x20style=\x22margin:\x200\x2010px;\x20color:\x20black;\x20background-color:\x20grey;\x22>Nein</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','#c2c5cc','contentWindow','none','#ff7000','Heutige\x20Pause','opacity','1454310fJLFEi','disabled','Stunden','Sekunden\x20bis\x20zur\x20nächsten\x20Minute:\x20','Kommen','div','.data-list-body-cell.dataCell.labelValueCell','contentDocument','color','Script\x20executed','split','1000','7:42','querySelectorAll','left'];_0x252b=function(){return _0x1c0869;};return _0x252b();}
