// ==UserScript==
// @name         ATOSS++
// @namespace    http://tampermonkey.net/
// @version      1.4.1
// @description  fixes stuff atoss is too dumb to fix themselves
// @updateURL   https://raw.githubusercontent.com/ArbeitsAccount/ATOSS-/refs/heads/main/main.js
// @downloadURL https://raw.githubusercontent.com/ArbeitsAccount/ATOSS-/refs/heads/main/main.js
// @author       Robin Feuerer
// @match        https://hoffmann-group.atoss.com/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=atoss.com
// @grant        GM_setValue
// @grant        GM_getValue
// ==/UserScript==

function _0x4c28(_0x1008db,_0x4f649b){const _0x17e018=_0x17e0();return _0x4c28=function(_0x4c28f3,_0x3dece7){_0x4c28f3=_0x4c28f3-0x1b8;let _0x4e82cc=_0x17e018[_0x4c28f3];return _0x4e82cc;},_0x4c28(_0x1008db,_0x4f649b);}(function(_0x413a8f,_0x4dbd05){const _0x1bef9b=_0x4c28,_0x6f2af4=_0x413a8f();while(!![]){try{const _0x4b3707=-parseInt(_0x1bef9b(0x20a))/0x1+parseInt(_0x1bef9b(0x1c2))/0x2*(-parseInt(_0x1bef9b(0x205))/0x3)+parseInt(_0x1bef9b(0x1f2))/0x4*(parseInt(_0x1bef9b(0x1f5))/0x5)+-parseInt(_0x1bef9b(0x1df))/0x6+-parseInt(_0x1bef9b(0x203))/0x7+parseInt(_0x1bef9b(0x1f9))/0x8+parseInt(_0x1bef9b(0x1fc))/0x9;if(_0x4b3707===_0x4dbd05)break;else _0x6f2af4['push'](_0x6f2af4['shift']());}catch(_0x1eb92c){_0x6f2af4['push'](_0x6f2af4['shift']());}}}(_0x17e0,0x1e45d),(function(){'use strict';const _0x5b7516=_0x4c28;console[_0x5b7516(0x1f7)](GM_getValue(_0x5b7516(0x217))),console['log'](_0x5b7516(0x1d9));function _0x1f67c4(_0x5d0a6a,_0x334356){const _0x2c28f2=_0x5b7516,_0x1078cb=_0x5d0a6a[_0x2c28f2(0x1e2)]('-'),_0x554b7d=_0x334356[_0x2c28f2(0x1e2)]('-');_0x1078cb&&(_0x5d0a6a=_0x5d0a6a[_0x2c28f2(0x1b9)](0x1));_0x554b7d&&(_0x334356=_0x334356[_0x2c28f2(0x1b9)](0x1));const _0x253037=_0x5d0a6a[_0x2c28f2(0x1bf)](':'),_0x4f96b7=_0x334356[_0x2c28f2(0x1bf)](':'),_0xcac17c=new Date(0x0,0x0,0x0,parseInt(_0x253037[0x0]),parseInt(_0x253037[0x1])),_0x51911f=new Date(0x0,0x0,0x0,parseInt(_0x4f96b7[0x0]),parseInt(_0x4f96b7[0x1]));let _0x24460b=_0xcac17c[_0x2c28f2(0x210)]()*0x3c+_0xcac17c[_0x2c28f2(0x1d1)](),_0x2fea41=_0x51911f[_0x2c28f2(0x210)]()*0x3c+_0x51911f[_0x2c28f2(0x1d1)]();_0x1078cb&&(_0x24460b=-_0x24460b);_0x554b7d&&(_0x2fea41=-_0x2fea41);let _0xe5601a=_0x24460b+_0x2fea41;const _0x2f4be6=Math[_0x2c28f2(0x1de)](Math['abs'](_0xe5601a)/0x3c),_0x597aed=Math['abs'](_0xe5601a)%0x3c;let _0x34d36d=String(_0x2f4be6)[_0x2c28f2(0x1ca)](0x2,'0')+':'+String(_0x597aed)['padStart'](0x2,'0');return _0xe5601a<0x0&&(_0x34d36d='-'+_0x34d36d),_0x34d36d;}window['addEventListener'](_0x5b7516(0x1b8),function(){const _0xca6617=_0x5b7516;if(window[_0xca6617(0x213)]['href']===_0xca6617(0x219)){if(GM_getValue(_0xca6617(0x217))===undefined){var _0x3109d2=document[_0xca6617(0x1c9)](_0xca6617(0x212));_0x3109d2['id']='ATOSS++',_0x3109d2[_0xca6617(0x1f8)][_0xca6617(0x207)]='fixed',_0x3109d2[_0xca6617(0x1f8)][_0xca6617(0x208)]=_0xca6617(0x1e8),_0x3109d2[_0xca6617(0x1f8)]['top']=_0xca6617(0x1dc),_0x3109d2[_0xca6617(0x1f8)][_0xca6617(0x1c1)]='translate(-50%,\x20-50%)',_0x3109d2[_0xca6617(0x1f8)]['padding']=_0xca6617(0x1c6),_0x3109d2[_0xca6617(0x1f8)][_0xca6617(0x1c4)]='#ffa31a',_0x3109d2[_0xca6617(0x1f8)][_0xca6617(0x216)]=_0xca6617(0x1cb),_0x3109d2[_0xca6617(0x1f8)][_0xca6617(0x201)]='1px\x20solid\x20#ffa31a',_0x3109d2[_0xca6617(0x1f8)]['zIndex']='1000',_0x3109d2[_0xca6617(0x1f8)][_0xca6617(0x1f3)]=_0xca6617(0x1d4),_0x3109d2[_0xca6617(0x1f8)][_0xca6617(0x1d3)]='35%',_0x3109d2[_0xca6617(0x1f8)][_0xca6617(0x1e6)]=_0xca6617(0x218),_0x3109d2['innerHTML']=_0xca6617(0x1ec),document[_0xca6617(0x1ef)][_0xca6617(0x1c0)](_0x3109d2);function _0x4a5bc2(){const _0x113b88=_0xca6617;var _0x4d29dc=window[_0x113b88(0x1ff)],_0x519fa4=Math['max'](0x14,_0x4d29dc/0xa)+'px',_0x32f6f8=Math[_0x113b88(0x204)](0x14,_0x4d29dc/0x14)+'%';document[_0x113b88(0x20e)]('popupTitle')['style'][_0x113b88(0x1eb)]=_0x519fa4,document['getElementById'](_0x113b88(0x1f4))['style']['fontSize']=_0x519fa4,document['getElementById'](_0x113b88(0x1e7))[_0x113b88(0x1f8)]['fontSize']=_0x519fa4,document[_0x113b88(0x20e)](_0x113b88(0x1cf))[_0x113b88(0x1f8)][_0x113b88(0x1eb)]=_0x519fa4,document[_0x113b88(0x20e)](_0x113b88(0x1cf))[_0x113b88(0x1f8)]['width']=_0x32f6f8,document[_0x113b88(0x20e)](_0x113b88(0x1e7))[_0x113b88(0x1f8)]['width']=_0x32f6f8,_0x3109d2[_0x113b88(0x1f8)][_0x113b88(0x1d6)]=_0x32f6f8;}_0x4a5bc2(),window[_0xca6617(0x214)](_0xca6617(0x1fe),_0x4a5bc2),_0x3109d2[_0xca6617(0x1f8)][_0xca6617(0x1f3)]=_0xca6617(0x1e0);var _0x5d452e=document[_0xca6617(0x1c9)](_0xca6617(0x1f8));_0x5d452e[_0xca6617(0x1f0)]=_0xca6617(0x211),document[_0xca6617(0x1be)][_0xca6617(0x1c0)](_0x5d452e),document[_0xca6617(0x20e)](_0xca6617(0x1cf))[_0xca6617(0x214)](_0xca6617(0x1d0),function(){const _0x30a670=_0xca6617;_0x3109d2[_0x30a670(0x1f8)]['display']=_0x30a670(0x1d4),document['getElementById'](_0x30a670(0x1e3))[_0x30a670(0x1f8)][_0x30a670(0x1bd)]=_0x30a670(0x1d4),GM_setValue(_0x30a670(0x217),![]);}),document[_0xca6617(0x20e)]('yesButton')[_0xca6617(0x214)]('click',function(){const _0x53efcd=_0xca6617;_0x3109d2[_0x53efcd(0x1f8)][_0x53efcd(0x1f3)]=_0x53efcd(0x1d4),document[_0x53efcd(0x20e)]('applicationIframe')[_0x53efcd(0x1f8)][_0x53efcd(0x1bd)]=_0x53efcd(0x1d4),GM_setValue(_0x53efcd(0x217),!![]);});}else setTimeout(function(){const _0x4008a1=_0xca6617;var _0x4c8cad=document[_0x4008a1(0x1c9)](_0x4008a1(0x212));_0x4c8cad['id']=_0x4008a1(0x1fa),_0x4c8cad['style']['position']=_0x4008a1(0x1e1),_0x4c8cad[_0x4008a1(0x1f8)][_0x4008a1(0x208)]=_0x4008a1(0x1c5),_0x4c8cad[_0x4008a1(0x1f8)][_0x4008a1(0x215)]='14px',_0x4c8cad[_0x4008a1(0x1f8)][_0x4008a1(0x1c1)]=_0x4008a1(0x1bb),_0x4c8cad[_0x4008a1(0x1f8)][_0x4008a1(0x1dd)]='20px',_0x4c8cad[_0x4008a1(0x1f8)][_0x4008a1(0x1c4)]=_0x4008a1(0x1ce),_0x4c8cad[_0x4008a1(0x1f8)][_0x4008a1(0x216)]='#4b4c4f',_0x4c8cad['style']['zIndex']=_0x4008a1(0x1fb),_0x4c8cad[_0x4008a1(0x1f8)][_0x4008a1(0x1f3)]='block',_0x4c8cad['style'][_0x4008a1(0x1d3)]='28px',_0x4c8cad[_0x4008a1(0x1f8)][_0x4008a1(0x1e6)]=_0x4008a1(0x218),_0x4c8cad['innerHTML']=_0x4008a1(0x1d8),document[_0x4008a1(0x1ef)][_0x4008a1(0x1c0)](_0x4c8cad),document['getElementById'](_0x4008a1(0x1fa))[_0x4008a1(0x214)](_0x4008a1(0x1d0),function(){GM_setValue('18+',undefined),location['reload']();});},0xbb8);}const _0x899f5c=document[_0xca6617(0x1e5)](_0xca6617(0x1c3));if(!_0x899f5c)return;const _0xf99849=_0x206048=>{const _0x452a64=_0xca6617;return _0x206048['children'][0x0]['children'][0x0][_0x452a64(0x1e9)][0x1][_0x452a64(0x1e9)][0x0][_0x452a64(0x1db)];};_0x899f5c[_0xca6617(0x214)]('load',function(){const _0x12b0dc=_0x899f5c['contentDocument']||_0x899f5c['contentWindow']['document'];if(!_0x12b0dc)return;let _0x54325b=[];const _0x358451=setInterval(()=>{const _0x2e7ec3=_0x4c28;_0x54325b=_0x12b0dc[_0x2e7ec3(0x1ba)]('.data-list-body-cell.dataCell.labelValueCell');if(_0x54325b[_0x2e7ec3(0x1c8)]>0x0){clearInterval(_0x358451),console[_0x2e7ec3(0x1f7)](_0x2e7ec3(0x1cd));let _0xfd43d8={},_0x24f77a,_0x1a067b,_0x4f8614;_0x54325b[_0x2e7ec3(0x1d7)](function(_0x2fdc84){const _0x5909ac=_0x2e7ec3;console[_0x5909ac(0x1f7)](_0x2fdc84[_0x5909ac(0x1e9)][0x0][_0x5909ac(0x1e9)][0x0][_0x5909ac(0x1f0)]),_0x24f77a=_0x2fdc84[_0x5909ac(0x1e9)][0x0][_0x5909ac(0x1e9)][0x0][_0x5909ac(0x1f0)],_0x24f77a===_0x5909ac(0x20b)&&(_0x4f8614=_0x2fdc84[_0x5909ac(0x1e9)][0x0][_0x5909ac(0x1e9)][0x2]),_0x2fdc84[_0x5909ac(0x1e9)][0x0]['children'][0x2][_0x5909ac(0x1d2)]>0x0?(console['log'](_0x2fdc84[_0x5909ac(0x1e9)][0x0][_0x5909ac(0x1e9)][0x2][_0x5909ac(0x1db)]),_0x1a067b=_0x2fdc84[_0x5909ac(0x1e9)][0x0]['children'][0x2][_0x5909ac(0x1db)]):(console[_0x5909ac(0x1f7)](_0x2fdc84['children'][0x0][_0x5909ac(0x1e9)][0x2][_0x5909ac(0x1f0)]),_0x1a067b=_0x2fdc84['children'][0x0][_0x5909ac(0x1e9)][0x2]['innerHTML']),_0xfd43d8[_0x24f77a]=_0x1a067b;}),console[_0x2e7ec3(0x1f7)](_0xfd43d8);if(_0xfd43d8[_0x2e7ec3(0x1ed)]==='Anwesend'){const _0x127a09=_0xfd43d8['Heutige\x20Pause'],[_0x4c7a81,_0xb69771]=_0x127a09['split'](':')[_0x2e7ec3(0x1bc)](Number);let _0xb060d1=_0x127a09;console[_0x2e7ec3(0x1f7)](GM_getValue('18+')),GM_getValue(_0x2e7ec3(0x217))===!![]?_0xb69771<0x1e&&_0x4c7a81<0x0&&(_0xb060d1='0:30'):_0x4c7a81<0x1&&(_0xb060d1=_0x2e7ec3(0x1da)),console['log'](_0xb060d1),_0x4f8614[_0x2e7ec3(0x1f0)]=_0x1f67c4(_0x1f67c4(_0xfd43d8[_0x2e7ec3(0x1cc)],'7:42'),_0xb060d1);}}},0x3e8),_0x4a2929=new MutationObserver(_0x348b65=>{const _0x20e5d8=_0x4c28;let _0x1c8b26=![];_0x348b65[_0x20e5d8(0x1d7)](_0x45f188=>{const _0xbfcedf=_0x20e5d8;if(!_0x1c8b26){_0x4a2929[_0xbfcedf(0x20f)]();const _0x45a2e2=_0x12b0dc[_0xbfcedf(0x1ba)](_0xbfcedf(0x209));_0x45a2e2[_0xbfcedf(0x1d7)](_0x4cf6f7=>{const _0x501626=_0xbfcedf,_0x2340c8=_0xf99849(_0x4cf6f7);if(_0x2340c8===_0x501626(0x202)||_0x2340c8===_0x501626(0x20c)){if(!_0x4cf6f7[_0x501626(0x1c7)][_0x501626(0x1f6)](_0x501626(0x20d))){_0x4cf6f7[_0x501626(0x1ea)]('disabled',_0x501626(0x1e4)),_0x4cf6f7[_0x501626(0x1f8)][_0x501626(0x206)]=_0x501626(0x1d5),console['log'](_0x501626(0x1ee));const _0x373695=_0x12b0dc[_0x501626(0x1e5)](_0x501626(0x200)),_0x48ce7b=_0x373695[_0x501626(0x1e9)][0x0][_0x501626(0x1e9)][0x0][_0x501626(0x1e9)][0x1]['children'][0x0],_0x55c021=()=>{const _0x4caa21=_0x501626,_0x2c93b2=new Date(),_0x454167=_0x2c93b2['getSeconds'](),_0x5af853=0x3c-_0x454167;_0x4a2929[_0x4caa21(0x20f)](),_0x48ce7b[_0x4caa21(0x1f0)]=_0x4caa21(0x1fd)+_0x5af853,_0x4a2929['observe'](_0x12b0dc['body'],{'childList':!![],'subtree':!![]});};_0x55c021(),setInterval(_0x55c021,0x3e8);}else _0x4cf6f7['removeAttribute']('disabled'),_0x4cf6f7[_0x501626(0x1f8)][_0x501626(0x206)]='1',console[_0x501626(0x1f7)]('Reactivated');}}),_0x1c8b26=!![];}_0x4a2929[_0xbfcedf(0x1f1)](_0x12b0dc[_0xbfcedf(0x1ef)],{'childList':!![],'subtree':!![]});});});_0x4a2929['observe'](_0x12b0dc['body'],{'childList':!![],'subtree':!![]});});});}()));function _0x17e0(){const _0x516a2e=['applicationIframe','disabled','querySelector','textAlign','yesButton','50%','children','setAttribute','fontSize','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20id=\x22popupTitle\x22><strong>Atoss++</strong></h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22popupText\x22>Bist\x20du\x20schon\x20über\x2018?</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20center;font-family:\x20\x27Segoe\x20UI\x27,\x20\x27Lato\x27,\x20sans-serif;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22yesButton\x22\x20style=\x22margin:\x200\x2010px;\x20color:\x20black;\x20background-color:\x20#ffa31a;\x22>Ja</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22noButton\x22\x20style=\x22margin:\x200\x2010px;\x20color:\x20black;\x20background-color:\x20grey;\x22>Nein</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Status','Disabled\x20unused\x20button','body','innerHTML','observe','52448znAwuH','display','popupText','55fQIBPk','contains','log','style','1349416OohxMH','reset','1000','368748MHOgiV','Sekunden\x20bis\x20zur\x20nächsten\x20Minute:\x20','resize','innerHeight','.info-element.info-element-default','border','Anwesenheitsbeginn\x20stempeln','3458ZpWbxH','max','12oarWHO','opacity','position','left','.info-element.info-element-button.info-element-normal','36812NpJRpW','Gehen','Pause\x20/\x20Anwesenheitsende\x20stempeln','highlighted','getElementById','disconnect','getHours','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#applicationIframe\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20filter:\x20blur(10px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','div','location','addEventListener','top','backgroundColor','18+','center','https://hoffmann-group.atoss.com/hoffmanngroupprod/html?security.sso=true','load','slice','querySelectorAll','translate(-50%,\x20-50%)','map','filter','head','split','appendChild','transform','8254wayTnE','iframe','color','67%','20px','classList','length','createElement','padStart','#1e2124','Kommen','script\x20executedyes3','#c2c5cc','noButton','click','getMinutes','childElementCount','height','none','0.2','width','forEach','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20id=\x22reset\x22;\x20style=\x22font-size\x20:\x2014px;position\x20:\x20absolute;\x20bottom:\x205px;\x20font-family:\x20\x27Segoe\x20UI\x27,\x20\x27Lato\x27,\x20sans-serif;cursor:\x20pointer;\x22>Daten\x20zurücksetzen</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','Script\x20executed','1:00','textContent','17.5%','padding','floor','1056420DpZWYm','block','fixed','startsWith'];_0x17e0=function(){return _0x516a2e;};return _0x17e0();}
