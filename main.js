// ==UserScript==
// @name         ATOSS++
// @namespace    http://tampermonkey.net/
// @version      1.4.0
// @description  fixes stuff atoss is too dumb to fix themselves
// @updateURL   https://raw.githubusercontent.com/ArbeitsAccount/ATOSS-/refs/heads/main/main.js
// @downloadURL https://raw.githubusercontent.com/ArbeitsAccount/ATOSS-/refs/heads/main/main.js
// @author       Robin Feuerer
// @match        https://hoffmann-group.atoss.com/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=atoss.com
// @grant        GM_setValue
// @grant        GM_getValue
// ==/UserScript==

function _0x321b(_0xfd25d2,_0x52d698){const _0x32683f=_0x3268();return _0x321b=function(_0x321bb5,_0x39d563){_0x321bb5=_0x321bb5-0x72;let _0x1e6bc9=_0x32683f[_0x321bb5];return _0x1e6bc9;},_0x321b(_0xfd25d2,_0x52d698);}function _0x3268(){const _0x21732b=['0.2','14874yCtzJW','Heutige\x20Pause','#c2c5cc','7237728wgUYsx','136UnxhGE','Reactivated','.info-element.info-element-default','#1e2124','Script\x20executed','yesButton','contains','getHours','ATOSS++','document','padding','center','location','observe','left','14px','textAlign','609dcyqvF','filter','Status','block','length','startsWith','top','26043hddcwY','noButton','querySelectorAll','28px','reload','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20id=\x22reset\x22;\x20style=\x22font-size\x20:\x2014px;position\x20:\x20absolute;\x20bottom:\x205px;\x20font-family:\x20\x27Segoe\x20UI\x27,\x20\x27Lato\x27,\x20sans-serif;\x22>Daten\x20zurücksetzen</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','children','256168gkiaHx','17.5%','#4b4c4f','67%','border','classList','width','iframe','max','disconnect','popupTitle','split','0:30','slice','opacity','146918ncnYsA','Gehen','href','Kommen','1px\x20solid\x20#ffa31a','getElementById','none','disabled','Sekunden\x20bis\x20zur\x20nächsten\x20Minute:\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20id=\x22popupTitle\x22><strong>Atoss++</strong></h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22popupText\x22>Bist\x20du\x20schon\x20über\x2018?</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20center;font-family:\x20\x27Segoe\x20UI\x27,\x20\x27Lato\x27,\x20sans-serif;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22yesButton\x22\x20style=\x22margin:\x200\x2010px;\x20color:\x20black;\x20background-color:\x20#ffa31a;\x22>Ja</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22noButton\x22\x20style=\x22margin:\x200\x2010px;\x20color:\x20black;\x20background-color:\x20grey;\x22>Nein</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','fontSize','addEventListener','20px','Anwesenheitsbeginn\x20stempeln','floor','display','contentWindow','Pause\x20/\x20Anwesenheitsende\x20stempeln','13587010oAeGEr','7:42','setAttribute','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#applicationIframe\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20filter:\x20blur(10px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','childElementCount','.data-list-body-cell.dataCell.labelValueCell','https://hoffmann-group.atoss.com/hoffmanngroupprod/html?security.sso=true','Disabled\x20unused\x20button','translate(-50%,\x20-50%)','height','innerHTML','getSeconds','position','reset','zIndex','createElement','85VwlBrj','9zqWWSi','body','div','forEach','highlighted','innerHeight','backgroundColor','getMinutes','#ffa31a','transform','resize','35986995oWDCmi','querySelector','style','50%','click','log','script\x20executedyes3','1:00','padStart','Anwesend','load','removeAttribute','18+','appendChild','color','applicationIframe','.info-element.info-element-button.info-element-normal','textContent','fixed','map'];_0x3268=function(){return _0x21732b;};return _0x3268();}(function(_0x16bd60,_0x1622c1){const _0x3eaa32=_0x321b,_0x2e8958=_0x16bd60();while(!![]){try{const _0x1a90fa=-parseInt(_0x3eaa32(0x99))/0x1+parseInt(_0x3eaa32(0xe0))/0x2*(parseInt(_0x3eaa32(0x83))/0x3)+-parseInt(_0x3eaa32(0x8a))/0x4*(-parseInt(_0x3eaa32(0xbb))/0x5)+parseInt(_0x3eaa32(0xdc))/0x6*(parseInt(_0x3eaa32(0x7c))/0x7)+parseInt(_0x3eaa32(0xdf))/0x8+-parseInt(_0x3eaa32(0xbc))/0x9*(-parseInt(_0x3eaa32(0xab))/0xa)+-parseInt(_0x3eaa32(0xc7))/0xb;if(_0x1a90fa===_0x1622c1)break;else _0x2e8958['push'](_0x2e8958['shift']());}catch(_0xafb78b){_0x2e8958['push'](_0x2e8958['shift']());}}}(_0x3268,0xb4941),(function(){'use strict';const _0xaee99f=_0x321b;console[_0xaee99f(0xcc)](GM_getValue(_0xaee99f(0xd3))),console[_0xaee99f(0xcc)](_0xaee99f(0xe4));function _0x471991(_0x52f434,_0x2ffc69){const _0x1742c6=_0xaee99f,_0x10143e=_0x52f434['startsWith']('-'),_0x258b7e=_0x2ffc69[_0x1742c6(0x81)]('-');_0x10143e&&(_0x52f434=_0x52f434[_0x1742c6(0x97)](0x1));_0x258b7e&&(_0x2ffc69=_0x2ffc69[_0x1742c6(0x97)](0x1));const _0x508ee1=_0x52f434[_0x1742c6(0x95)](':'),_0x3be205=_0x2ffc69[_0x1742c6(0x95)](':'),_0x982d14=new Date(0x0,0x0,0x0,parseInt(_0x508ee1[0x0]),parseInt(_0x508ee1[0x1])),_0x1a40e3=new Date(0x0,0x0,0x0,parseInt(_0x3be205[0x0]),parseInt(_0x3be205[0x1]));let _0x39e376=_0x982d14[_0x1742c6(0x72)]()*0x3c+_0x982d14[_0x1742c6(0xc3)](),_0x4e7ab7=_0x1a40e3[_0x1742c6(0x72)]()*0x3c+_0x1a40e3[_0x1742c6(0xc3)]();_0x10143e&&(_0x39e376=-_0x39e376);_0x258b7e&&(_0x4e7ab7=-_0x4e7ab7);let _0xc95e00=_0x39e376+_0x4e7ab7;const _0x34b6c5=Math[_0x1742c6(0xa7)](Math['abs'](_0xc95e00)/0x3c),_0xe0f86b=Math['abs'](_0xc95e00)%0x3c;let _0x1b2c5f=String(_0x34b6c5)[_0x1742c6(0xcf)](0x2,'0')+':'+String(_0xe0f86b)[_0x1742c6(0xcf)](0x2,'0');return _0xc95e00<0x0&&(_0x1b2c5f='-'+_0x1b2c5f),_0x1b2c5f;}window[_0xaee99f(0xa4)](_0xaee99f(0xd1),function(){const _0xedd142=_0xaee99f;if(window[_0xedd142(0x77)][_0xedd142(0x9b)]===_0xedd142(0xb1)){if(GM_getValue(_0xedd142(0xd3))===undefined){var _0xad3b6e=document[_0xedd142(0xba)]('div');_0xad3b6e['id']=_0xedd142(0x73),_0xad3b6e[_0xedd142(0xc9)][_0xedd142(0xb7)]='fixed',_0xad3b6e['style'][_0xedd142(0x79)]=_0xedd142(0xca),_0xad3b6e['style'][_0xedd142(0x82)]=_0xedd142(0x8b),_0xad3b6e[_0xedd142(0xc9)][_0xedd142(0xc5)]=_0xedd142(0xb3),_0xad3b6e[_0xedd142(0xc9)][_0xedd142(0x75)]=_0xedd142(0xa5),_0xad3b6e[_0xedd142(0xc9)][_0xedd142(0xd5)]=_0xedd142(0xc4),_0xad3b6e[_0xedd142(0xc9)][_0xedd142(0xc2)]=_0xedd142(0xe3),_0xad3b6e[_0xedd142(0xc9)][_0xedd142(0x8e)]=_0xedd142(0x9d),_0xad3b6e['style'][_0xedd142(0xb9)]='1000',_0xad3b6e[_0xedd142(0xc9)][_0xedd142(0xa8)]=_0xedd142(0x9f),_0xad3b6e[_0xedd142(0xc9)][_0xedd142(0xb4)]='35%',_0xad3b6e[_0xedd142(0xc9)][_0xedd142(0x7b)]='center',_0xad3b6e['innerHTML']=_0xedd142(0xa2),document['body'][_0xedd142(0xd4)](_0xad3b6e);function _0x2a8594(){const _0x313241=_0xedd142;var _0x1cf6f4=window[_0x313241(0xc1)],_0x30c82a=Math[_0x313241(0x92)](0x14,_0x1cf6f4/0xa)+'px',_0x199c11=Math[_0x313241(0x92)](0x14,_0x1cf6f4/0x14)+'%';document[_0x313241(0x9e)](_0x313241(0x94))[_0x313241(0xc9)][_0x313241(0xa3)]=_0x30c82a,document[_0x313241(0x9e)]('popupText')[_0x313241(0xc9)][_0x313241(0xa3)]=_0x30c82a,document[_0x313241(0x9e)](_0x313241(0xe5))[_0x313241(0xc9)]['fontSize']=_0x30c82a,document[_0x313241(0x9e)](_0x313241(0x84))[_0x313241(0xc9)][_0x313241(0xa3)]=_0x30c82a,document['getElementById'](_0x313241(0x84))[_0x313241(0xc9)][_0x313241(0x90)]=_0x199c11,document[_0x313241(0x9e)](_0x313241(0xe5))[_0x313241(0xc9)]['width']=_0x199c11,_0xad3b6e[_0x313241(0xc9)][_0x313241(0x90)]=_0x199c11;}_0x2a8594(),window[_0xedd142(0xa4)](_0xedd142(0xc6),_0x2a8594),_0xad3b6e[_0xedd142(0xc9)][_0xedd142(0xa8)]=_0xedd142(0x7f);var _0x5185ce=document[_0xedd142(0xba)](_0xedd142(0xc9));_0x5185ce[_0xedd142(0xb5)]=_0xedd142(0xae),document['head'][_0xedd142(0xd4)](_0x5185ce),document[_0xedd142(0x9e)](_0xedd142(0x84))['addEventListener']('click',function(){const _0x5508a1=_0xedd142;_0xad3b6e['style'][_0x5508a1(0xa8)]='none',document[_0x5508a1(0x9e)](_0x5508a1(0xd6))[_0x5508a1(0xc9)][_0x5508a1(0x7d)]=_0x5508a1(0x9f),GM_setValue(_0x5508a1(0xd3),![]);}),document[_0xedd142(0x9e)](_0xedd142(0xe5))[_0xedd142(0xa4)](_0xedd142(0xcb),function(){const _0x3a7170=_0xedd142;_0xad3b6e['style'][_0x3a7170(0xa8)]='none',document['getElementById'](_0x3a7170(0xd6))[_0x3a7170(0xc9)][_0x3a7170(0x7d)]=_0x3a7170(0x9f),GM_setValue(_0x3a7170(0xd3),!![]);});}else setTimeout(function(){const _0x40b5d4=_0xedd142;var _0x197f42=document[_0x40b5d4(0xba)](_0x40b5d4(0xbe));_0x197f42['id']='reset',_0x197f42[_0x40b5d4(0xc9)]['position']=_0x40b5d4(0xd9),_0x197f42[_0x40b5d4(0xc9)][_0x40b5d4(0x79)]=_0x40b5d4(0x8d),_0x197f42[_0x40b5d4(0xc9)]['top']=_0x40b5d4(0x7a),_0x197f42['style'][_0x40b5d4(0xc5)]=_0x40b5d4(0xb3),_0x197f42['style'][_0x40b5d4(0x75)]=_0x40b5d4(0xa5),_0x197f42[_0x40b5d4(0xc9)][_0x40b5d4(0xd5)]=_0x40b5d4(0xde),_0x197f42['style']['backgroundColor']=_0x40b5d4(0x8c),_0x197f42[_0x40b5d4(0xc9)][_0x40b5d4(0xb9)]='1000',_0x197f42[_0x40b5d4(0xc9)][_0x40b5d4(0xa8)]=_0x40b5d4(0x7f),_0x197f42[_0x40b5d4(0xc9)]['height']=_0x40b5d4(0x86),_0x197f42[_0x40b5d4(0xc9)][_0x40b5d4(0x7b)]=_0x40b5d4(0x76),_0x197f42[_0x40b5d4(0xb5)]=_0x40b5d4(0x88),document['body'][_0x40b5d4(0xd4)](_0x197f42),document[_0x40b5d4(0x9e)](_0x40b5d4(0xb8))['addEventListener']('click',function(){const _0x269e68=_0x40b5d4;GM_setValue(_0x269e68(0xd3),undefined),location[_0x269e68(0x87)]();});},0xbb8);}const _0xaacb59=document[_0xedd142(0xc8)](_0xedd142(0x91));if(!_0xaacb59)return;const _0x3db916=_0x2bf060=>{const _0x144da5=_0xedd142;return _0x2bf060[_0x144da5(0x89)][0x0][_0x144da5(0x89)][0x0][_0x144da5(0x89)][0x1][_0x144da5(0x89)][0x0][_0x144da5(0xd8)];};_0xaacb59[_0xedd142(0xa4)](_0xedd142(0xd1),function(){const _0x1c8687=_0xedd142,_0x431642=_0xaacb59['contentDocument']||_0xaacb59[_0x1c8687(0xa9)][_0x1c8687(0x74)];if(!_0x431642)return;let _0x5d61e0=[];const _0x166df3=setInterval(()=>{const _0x528841=_0x1c8687;_0x5d61e0=_0x431642[_0x528841(0x85)](_0x528841(0xb0));if(_0x5d61e0[_0x528841(0x80)]>0x0){clearInterval(_0x166df3),console[_0x528841(0xcc)](_0x528841(0xcd));let _0x4af24b={},_0x13e578,_0x1b6da4,_0x22fdd4;_0x5d61e0[_0x528841(0xbf)](function(_0x5a6c96){const _0x44c013=_0x528841;console['log'](_0x5a6c96[_0x44c013(0x89)][0x0][_0x44c013(0x89)][0x0][_0x44c013(0xb5)]),_0x13e578=_0x5a6c96[_0x44c013(0x89)][0x0][_0x44c013(0x89)][0x0][_0x44c013(0xb5)],_0x13e578===_0x44c013(0x9a)&&(_0x22fdd4=_0x5a6c96[_0x44c013(0x89)][0x0][_0x44c013(0x89)][0x2]),_0x5a6c96[_0x44c013(0x89)][0x0][_0x44c013(0x89)][0x2][_0x44c013(0xaf)]>0x0?(console[_0x44c013(0xcc)](_0x5a6c96[_0x44c013(0x89)][0x0][_0x44c013(0x89)][0x2][_0x44c013(0xd8)]),_0x1b6da4=_0x5a6c96[_0x44c013(0x89)][0x0][_0x44c013(0x89)][0x2][_0x44c013(0xd8)]):(console[_0x44c013(0xcc)](_0x5a6c96[_0x44c013(0x89)][0x0]['children'][0x2][_0x44c013(0xb5)]),_0x1b6da4=_0x5a6c96[_0x44c013(0x89)][0x0][_0x44c013(0x89)][0x2][_0x44c013(0xb5)]),_0x4af24b[_0x13e578]=_0x1b6da4;}),console['log'](_0x4af24b);if(_0x4af24b[_0x528841(0x7e)]===_0x528841(0xd0)){const _0x3f18da=_0x4af24b[_0x528841(0xdd)],[_0x397331,_0x36d1c5]=_0x3f18da['split'](':')[_0x528841(0xda)](Number);let _0x66c101=_0x3f18da;console[_0x528841(0xcc)](GM_getValue(_0x528841(0xd3))),GM_getValue('18+')===!![]?_0x36d1c5<0x1e&&_0x397331<0x0&&(_0x66c101=_0x528841(0x96)):_0x397331<0x1&&(_0x66c101=_0x528841(0xce)),console[_0x528841(0xcc)](_0x66c101),_0x22fdd4[_0x528841(0xb5)]=_0x471991(_0x471991(_0x4af24b[_0x528841(0x9c)],_0x528841(0xac)),_0x66c101);}}},0x3e8),_0x2181a2=new MutationObserver(_0x2b9f9e=>{let _0x486f74=![];_0x2b9f9e['forEach'](_0x587dac=>{const _0x4fcc36=_0x321b;if(!_0x486f74){_0x2181a2[_0x4fcc36(0x93)]();const _0x5cad90=_0x431642[_0x4fcc36(0x85)](_0x4fcc36(0xd7));_0x5cad90[_0x4fcc36(0xbf)](_0x3d27f8=>{const _0x1eb16b=_0x4fcc36,_0x1278e5=_0x3db916(_0x3d27f8);if(_0x1278e5===_0x1eb16b(0xa6)||_0x1278e5===_0x1eb16b(0xaa)){if(!_0x3d27f8[_0x1eb16b(0x8f)][_0x1eb16b(0xe6)](_0x1eb16b(0xc0))){_0x3d27f8[_0x1eb16b(0xad)](_0x1eb16b(0xa0),_0x1eb16b(0xa0)),_0x3d27f8[_0x1eb16b(0xc9)][_0x1eb16b(0x98)]=_0x1eb16b(0xdb),console[_0x1eb16b(0xcc)](_0x1eb16b(0xb2));const _0x227e8b=_0x431642[_0x1eb16b(0xc8)](_0x1eb16b(0xe2)),_0x1b54fe=_0x227e8b[_0x1eb16b(0x89)][0x0][_0x1eb16b(0x89)][0x0][_0x1eb16b(0x89)][0x1][_0x1eb16b(0x89)][0x0],_0x5019c6=()=>{const _0x1f0066=_0x1eb16b,_0x3fb978=new Date(),_0x57913a=_0x3fb978[_0x1f0066(0xb6)](),_0xca90d3=0x3c-_0x57913a;_0x2181a2[_0x1f0066(0x93)](),_0x1b54fe[_0x1f0066(0xb5)]=_0x1f0066(0xa1)+_0xca90d3,_0x2181a2[_0x1f0066(0x78)](_0x431642[_0x1f0066(0xbd)],{'childList':!![],'subtree':!![]});};_0x5019c6(),setInterval(_0x5019c6,0x3e8);}else _0x3d27f8[_0x1eb16b(0xd2)](_0x1eb16b(0xa0)),_0x3d27f8['style'][_0x1eb16b(0x98)]='1',console[_0x1eb16b(0xcc)](_0x1eb16b(0xe1));}}),_0x486f74=!![];}_0x2181a2[_0x4fcc36(0x78)](_0x431642[_0x4fcc36(0xbd)],{'childList':!![],'subtree':!![]});});});_0x2181a2[_0x1c8687(0x78)](_0x431642[_0x1c8687(0xbd)],{'childList':!![],'subtree':!![]});});});}()));
