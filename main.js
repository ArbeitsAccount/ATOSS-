// ==UserScript==
// @name         ATOSS++
// @namespace    http://tampermonkey.net/
// @version      1.4.2
// @description  fixes stuff atoss is too dumb to fix themselves
// @updateURL   https://raw.githubusercontent.com/ArbeitsAccount/ATOSS-/refs/heads/main/main.js
// @downloadURL https://raw.githubusercontent.com/ArbeitsAccount/ATOSS-/refs/heads/main/main.js
// @author       Robin Feuerer
// @match        https://hoffmann-group.atoss.com/*
// @icon         https://www.google.com/s2/favicons?sz=64&domain=atoss.com
// @grant        GM_setValue
// @grant        GM_getValue
// ==/UserScript==

(function(_0x2ee819,_0x4bf6e9){const _0x3fe70d=_0x3f60,_0x11c523=_0x2ee819();while(!![]){try{const _0x5b82d1=parseInt(_0x3fe70d(0x17b))/0x1*(parseInt(_0x3fe70d(0x153))/0x2)+parseInt(_0x3fe70d(0x173))/0x3*(-parseInt(_0x3fe70d(0x166))/0x4)+parseInt(_0x3fe70d(0x1a5))/0x5*(parseInt(_0x3fe70d(0x144))/0x6)+-parseInt(_0x3fe70d(0x149))/0x7+parseInt(_0x3fe70d(0x15e))/0x8+parseInt(_0x3fe70d(0x198))/0x9*(-parseInt(_0x3fe70d(0x165))/0xa)+parseInt(_0x3fe70d(0x151))/0xb*(parseInt(_0x3fe70d(0x192))/0xc);if(_0x5b82d1===_0x4bf6e9)break;else _0x11c523['push'](_0x11c523['shift']());}catch(_0x6a1776){_0x11c523['push'](_0x11c523['shift']());}}}(_0x2a4f,0xb7fcd),(function(){'use strict';const _0x30c2fe=_0x3f60;console[_0x30c2fe(0x17c)](GM_getValue(_0x30c2fe(0x18b))),console[_0x30c2fe(0x17c)]('Script\x20executed');function _0x4f5dc2(_0x3d697d,_0x306eca){const _0x23d028=_0x30c2fe,_0x450c3d=_0x3d697d['startsWith']('-'),_0x1564b4=_0x306eca[_0x23d028(0x163)]('-');_0x450c3d&&(_0x3d697d=_0x3d697d[_0x23d028(0x18f)](0x1));_0x1564b4&&(_0x306eca=_0x306eca['slice'](0x1));const _0xc29b6c=_0x3d697d['split'](':'),_0x8531b4=_0x306eca[_0x23d028(0x16a)](':'),_0x1e6bcd=new Date(0x0,0x0,0x0,parseInt(_0xc29b6c[0x0]),parseInt(_0xc29b6c[0x1])),_0x23879d=new Date(0x0,0x0,0x0,parseInt(_0x8531b4[0x0]),parseInt(_0x8531b4[0x1]));let _0x1ecc2b=_0x1e6bcd[_0x23d028(0x154)]()*0x3c+_0x1e6bcd[_0x23d028(0x150)](),_0x5ec09f=_0x23879d[_0x23d028(0x154)]()*0x3c+_0x23879d['getMinutes']();_0x450c3d&&(_0x1ecc2b=-_0x1ecc2b);_0x1564b4&&(_0x5ec09f=-_0x5ec09f);let _0x471897=_0x1ecc2b+_0x5ec09f;const _0xe65611=Math[_0x23d028(0x143)](Math[_0x23d028(0x1a3)](_0x471897)/0x3c),_0x3ee6b1=Math[_0x23d028(0x1a3)](_0x471897)%0x3c;let _0x57cc78=String(_0xe65611)[_0x23d028(0x15d)](0x2,'0')+':'+String(_0x3ee6b1)[_0x23d028(0x15d)](0x2,'0');return _0x471897<0x0&&(_0x57cc78='-'+_0x57cc78),_0x57cc78;}window['addEventListener'](_0x30c2fe(0x16e),function(){const _0x4e0159=_0x30c2fe;window[_0x4e0159(0x187)][_0x4e0159(0x16b)]===_0x4e0159(0x19c)&&(GM_getValue(_0x4e0159(0x18b))===undefined?setTimeout(function(){const _0x447055=_0x4e0159;var _0x48e97b=document[_0x447055(0x1ab)](_0x447055(0x182));_0x48e97b['id']=_0x447055(0x184),_0x48e97b[_0x447055(0x17e)][_0x447055(0x14f)]=_0x447055(0x167),_0x48e97b['style'][_0x447055(0x1a9)]=_0x447055(0x142),_0x48e97b[_0x447055(0x17e)]['top']=_0x447055(0x14e),_0x48e97b['style'][_0x447055(0x176)]='translate(-50%,\x20-50%)',_0x48e97b['style'][_0x447055(0x19d)]='20px',_0x48e97b[_0x447055(0x17e)]['color']='#ffa31a',_0x48e97b[_0x447055(0x17e)]['backgroundColor']=_0x447055(0x18a),_0x48e97b[_0x447055(0x17e)]['border']=_0x447055(0x16d),_0x48e97b[_0x447055(0x17e)]['zIndex']=_0x447055(0x177),_0x48e97b[_0x447055(0x17e)][_0x447055(0x1a7)]=_0x447055(0x191),_0x48e97b[_0x447055(0x17e)]['height']=_0x447055(0x155),_0x48e97b[_0x447055(0x17e)]['textAlign']=_0x447055(0x17d),_0x48e97b[_0x447055(0x179)]=_0x447055(0x194),document[_0x447055(0x15a)][_0x447055(0x185)](_0x48e97b);function _0x59a12e(){const _0x5e3708=_0x447055;var _0x376966=window['innerHeight'],_0xe655f4=Math[_0x5e3708(0x1a6)](0x14,_0x376966/0xa)+'px',_0x199b94=Math[_0x5e3708(0x1a6)](0x14,_0x376966/0x14)+'%';document[_0x5e3708(0x160)](_0x5e3708(0x19e))['style'][_0x5e3708(0x180)]=_0xe655f4,document['getElementById'](_0x5e3708(0x15b))[_0x5e3708(0x17e)][_0x5e3708(0x180)]=_0xe655f4,document[_0x5e3708(0x160)](_0x5e3708(0x196))[_0x5e3708(0x17e)][_0x5e3708(0x180)]=_0xe655f4,document[_0x5e3708(0x160)](_0x5e3708(0x169))[_0x5e3708(0x17e)][_0x5e3708(0x180)]=_0xe655f4,document['getElementById'](_0x5e3708(0x169))[_0x5e3708(0x17e)][_0x5e3708(0x188)]=_0x199b94,document[_0x5e3708(0x160)](_0x5e3708(0x196))[_0x5e3708(0x17e)][_0x5e3708(0x188)]=_0x199b94,_0x48e97b[_0x5e3708(0x17e)]['width']=_0x199b94;}_0x59a12e(),window[_0x447055(0x158)]('resize',_0x59a12e),_0x48e97b[_0x447055(0x17e)][_0x447055(0x1a7)]=_0x447055(0x1aa);var _0x33da12=document[_0x447055(0x1ab)](_0x447055(0x17e));_0x33da12[_0x447055(0x179)]=_0x447055(0x174),document[_0x447055(0x181)]['appendChild'](_0x33da12),document['getElementById'](_0x447055(0x169))[_0x447055(0x158)]('click',function(){const _0x41119f=_0x447055;_0x48e97b[_0x41119f(0x17e)][_0x41119f(0x1a7)]=_0x41119f(0x191),document[_0x41119f(0x160)](_0x41119f(0x195))[_0x41119f(0x17e)][_0x41119f(0x168)]='none',GM_setValue(_0x41119f(0x18b),![]);}),document[_0x447055(0x160)]('yesButton')[_0x447055(0x158)](_0x447055(0x18c),function(){const _0xcc4dc4=_0x447055;_0x48e97b['style']['display']='none',document[_0xcc4dc4(0x160)](_0xcc4dc4(0x195))['style'][_0xcc4dc4(0x168)]=_0xcc4dc4(0x191),GM_setValue(_0xcc4dc4(0x18b),!![]);});},0x3e8):setTimeout(function(){const _0x17996e=_0x4e0159;var _0x494f49=document[_0x17996e(0x1ab)]('div');_0x494f49['id']=_0x17996e(0x19a),_0x494f49[_0x17996e(0x17e)][_0x17996e(0x14f)]=_0x17996e(0x167),_0x494f49[_0x17996e(0x17e)][_0x17996e(0x1a9)]=_0x17996e(0x19b),_0x494f49[_0x17996e(0x17e)][_0x17996e(0x152)]=_0x17996e(0x1a0),_0x494f49[_0x17996e(0x17e)][_0x17996e(0x176)]=_0x17996e(0x147),_0x494f49[_0x17996e(0x17e)][_0x17996e(0x19d)]=_0x17996e(0x189),_0x494f49['style']['color']=_0x17996e(0x17a),_0x494f49['style'][_0x17996e(0x17f)]='transparent',_0x494f49[_0x17996e(0x17e)][_0x17996e(0x161)]='1000',_0x494f49[_0x17996e(0x17e)][_0x17996e(0x1a7)]=_0x17996e(0x1aa),_0x494f49[_0x17996e(0x17e)][_0x17996e(0x15c)]=_0x17996e(0x146),_0x494f49[_0x17996e(0x17e)][_0x17996e(0x14b)]=_0x17996e(0x17d),_0x494f49[_0x17996e(0x179)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20id=\x22reset\x22;\x20style=\x22font-size\x20:\x2014px;position\x20:\x20absolute;\x20bottom:\x205px;\x20font-family:\x20\x27Segoe\x20UI\x27,\x20\x27Lato\x27,\x20sans-serif;cursor:\x20pointer;\x22>Daten\x20zurücksetzen</h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x17996e(0x15a)][_0x17996e(0x185)](_0x494f49),document['getElementById'](_0x17996e(0x19a))[_0x17996e(0x158)](_0x17996e(0x18c),function(){const _0x1b6a79=_0x17996e;GM_setValue(_0x1b6a79(0x18b),undefined),location[_0x1b6a79(0x170)]();});},0xbb8));const _0xf9cc13=document['querySelector'](_0x4e0159(0x197));if(!_0xf9cc13)return;const _0xd6b381=_0x398861=>{const _0x940c8=_0x4e0159;return _0x398861[_0x940c8(0x148)][0x0][_0x940c8(0x148)][0x0][_0x940c8(0x148)][0x1][_0x940c8(0x148)][0x0][_0x940c8(0x162)];};_0xf9cc13['addEventListener'](_0x4e0159(0x16e),function(){const _0x175e18=_0x4e0159,_0x2cb5e2=_0xf9cc13[_0x175e18(0x171)]||_0xf9cc13[_0x175e18(0x193)][_0x175e18(0x178)];if(!_0x2cb5e2)return;let _0x41e6e4=[];const _0x28ed3e=setInterval(()=>{const _0x2402bb=_0x175e18;_0x41e6e4=_0x2cb5e2[_0x2402bb(0x18d)]('.data-list-body-cell.dataCell.labelValueCell');if(_0x41e6e4[_0x2402bb(0x157)]>0x0){clearInterval(_0x28ed3e),console[_0x2402bb(0x17c)](_0x2402bb(0x1a4));let _0x2f21e9={},_0x5dd020,_0x2eb846,_0x3d6876;_0x41e6e4[_0x2402bb(0x14a)](function(_0x466b08){const _0x213c40=_0x2402bb;console[_0x213c40(0x17c)](_0x466b08[_0x213c40(0x148)][0x0][_0x213c40(0x148)][0x0][_0x213c40(0x179)]),_0x5dd020=_0x466b08[_0x213c40(0x148)][0x0][_0x213c40(0x148)][0x0][_0x213c40(0x179)],_0x5dd020==='Gehen'&&(_0x3d6876=_0x466b08['children'][0x0][_0x213c40(0x148)][0x2]),_0x466b08[_0x213c40(0x148)][0x0]['children'][0x2][_0x213c40(0x183)]>0x0?(console[_0x213c40(0x17c)](_0x466b08['children'][0x0][_0x213c40(0x148)][0x2][_0x213c40(0x162)]),_0x2eb846=_0x466b08[_0x213c40(0x148)][0x0][_0x213c40(0x148)][0x2][_0x213c40(0x162)]):(console[_0x213c40(0x17c)](_0x466b08['children'][0x0][_0x213c40(0x148)][0x2][_0x213c40(0x179)]),_0x2eb846=_0x466b08['children'][0x0]['children'][0x2][_0x213c40(0x179)]),_0x2f21e9[_0x5dd020]=_0x2eb846;}),console['log'](_0x2f21e9);if(_0x2f21e9[_0x2402bb(0x14d)]==='Anwesend'){const _0x5c4f08=_0x2f21e9['Heutige\x20Pause'],[_0x5a43e2,_0x29e737]=_0x5c4f08[_0x2402bb(0x16a)](':')[_0x2402bb(0x1ad)](Number);let _0x35f62d=_0x5c4f08;console[_0x2402bb(0x17c)](GM_getValue('18+')),GM_getValue(_0x2402bb(0x18b))===!![]?_0x29e737<0x1e&&_0x5a43e2<0x0&&(_0x35f62d=_0x2402bb(0x164)):_0x5a43e2<0x1&&(_0x35f62d=_0x2402bb(0x199)),console[_0x2402bb(0x17c)](_0x35f62d),_0x3d6876[_0x2402bb(0x179)]=_0x4f5dc2(_0x4f5dc2(_0x2f21e9['Kommen'],_0x2402bb(0x175)),_0x35f62d);}}},0x3e8),_0x161733=new MutationObserver(_0x1f17db=>{const _0x1db88a=_0x175e18;let _0x4fc7e7=![];_0x1f17db[_0x1db88a(0x14a)](_0x34e6d9=>{const _0x262045=_0x1db88a;if(!_0x4fc7e7){_0x161733[_0x262045(0x1ae)]();const _0x2cac8a=_0x2cb5e2[_0x262045(0x18d)](_0x262045(0x14c));_0x2cac8a[_0x262045(0x14a)](_0x49996c=>{const _0x2f5f45=_0x262045,_0x234475=_0xd6b381(_0x49996c);if(_0x234475===_0x2f5f45(0x18e)||_0x234475===_0x2f5f45(0x145)){if(!_0x49996c[_0x2f5f45(0x190)][_0x2f5f45(0x1ac)](_0x2f5f45(0x16c))){_0x49996c['setAttribute'](_0x2f5f45(0x19f),'disabled'),_0x49996c['style'][_0x2f5f45(0x156)]=_0x2f5f45(0x16f),console[_0x2f5f45(0x17c)](_0x2f5f45(0x1a2));const _0x3135ee=_0x2cb5e2[_0x2f5f45(0x15f)]('.info-element.info-element-default'),_0xf0665b=_0x3135ee[_0x2f5f45(0x148)][0x0][_0x2f5f45(0x148)][0x0][_0x2f5f45(0x148)][0x1]['children'][0x0],_0x4bb0c9=()=>{const _0x5406d8=_0x2f5f45,_0x5c5ec7=new Date(),_0x17b831=_0x5c5ec7[_0x5406d8(0x159)](),_0x3348e3=0x3c-_0x17b831;_0x161733[_0x5406d8(0x1ae)](),_0xf0665b[_0x5406d8(0x179)]=_0x5406d8(0x186)+_0x3348e3,_0x161733[_0x5406d8(0x1a8)](_0x2cb5e2[_0x5406d8(0x15a)],{'childList':!![],'subtree':!![]});};_0x4bb0c9(),setInterval(_0x4bb0c9,0x3e8);}else _0x49996c[_0x2f5f45(0x172)](_0x2f5f45(0x19f)),_0x49996c[_0x2f5f45(0x17e)][_0x2f5f45(0x156)]='1',console['log'](_0x2f5f45(0x1a1));}}),_0x4fc7e7=!![];}_0x161733[_0x262045(0x1a8)](_0x2cb5e2[_0x262045(0x15a)],{'childList':!![],'subtree':!![]});});});_0x161733[_0x175e18(0x1a8)](_0x2cb5e2[_0x175e18(0x15a)],{'childList':!![],'subtree':!![]});});});}()));function _0x3f60(_0x48db78,_0x131ee2){const _0x2a4f50=_0x2a4f();return _0x3f60=function(_0x3f6095,_0x525403){_0x3f6095=_0x3f6095-0x142;let _0x5ab99a=_0x2a4f50[_0x3f6095];return _0x5ab99a;},_0x3f60(_0x48db78,_0x131ee2);}function _0x2a4f(){const _0x4ef05c=['innerHTML','#c2c5cc','2466vkboVE','log','center','style','backgroundColor','fontSize','head','div','childElementCount','ATOSS++','appendChild','Sekunden\x20bis\x20zur\x20nächsten\x20Minute:\x20','location','width','20px','#1e2124','18+','click','querySelectorAll','Anwesenheitsbeginn\x20stempeln','slice','classList','none','192cWwJvt','contentWindow','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h1\x20id=\x22popupTitle\x22><strong>Atoss++</strong></h1>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20id=\x22popupText\x22>Bist\x20du\x20schon\x20über\x2018?</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20flex;\x20justify-content:\x20center;font-family:\x20\x27Segoe\x20UI\x27,\x20\x27Lato\x27,\x20sans-serif;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22yesButton\x22\x20style=\x22margin:\x200\x2010px;\x20color:\x20black;\x20background-color:\x20#ffa31a;\x22>Ja</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20id=\x22noButton\x22\x20style=\x22margin:\x200\x2010px;\x20color:\x20black;\x20background-color:\x20grey;\x22>Nein</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','applicationIframe','yesButton','iframe','9WgaBvU','1:00','reset','160px','https://hoffmann-group.atoss.com/hoffmanngroupprod/html?security.sso=true','padding','popupTitle','disabled','14px','Reactivated','Disabled\x20unused\x20button','abs','script\x20executedyes3','226895sxTCnh','max','display','observe','left','block','createElement','contains','map','disconnect','50%','floor','198cKmEgF','Pause\x20/\x20Anwesenheitsende\x20stempeln','28px','translate(-50%,\x20-50%)','children','7535262dbufrG','forEach','textAlign','.info-element.info-element-button.info-element-normal','Status','17.5%','position','getMinutes','100023wgoVVm','top','1002XbUKwT','getHours','35%','opacity','length','addEventListener','getSeconds','body','popupText','height','padStart','2322328uBvMQR','querySelector','getElementById','zIndex','textContent','startsWith','0:30','6310590vvKxWB','8eUPyVY','fixed','filter','noButton','split','href','highlighted','1px\x20solid\x20#ffa31a','load','0.2','reload','contentDocument','removeAttribute','1061421ASHqAB','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20#applicationIframe\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20filter:\x20blur(10px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','7:42','transform','1000','document'];_0x2a4f=function(){return _0x4ef05c;};return _0x2a4f();}
